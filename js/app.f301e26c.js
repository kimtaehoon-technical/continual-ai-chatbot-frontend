(function(){"use strict";var e={3721:function(e,n,t){var o=t(5130),a=t(6768);const l={id:"app"};function r(e,n,t,o,r,u){const i=(0,a.g2)("ChatComponent");return(0,a.uX)(),(0,a.CE)("div",l,[(0,a.bF)(i)])}t(8111),t(2489);var u=t(4232),i=t(144);const s={class:"chat-wrapper"},c={key:0,class:"sidebar-content"},v={class:"filter-buttons"},f=["onClick"],p={key:0,class:"no-result"},d={class:"chat-container"},h=["disabled"],k={key:0,class:"response-section"},b={class:"response-text question"},C={class:"response-text answer"},L={class:"feedback-buttons"};var y={__name:"ChatScreen",setup(e){const n=(0,i.KR)(""),t=(0,i.KR)(""),l=(0,i.KR)(""),r=(0,i.KR)([]),y=(0,i.KR)(""),w=(0,i.KR)("all"),g=(0,i.KR)(!0),m=(0,i.KR)(!1);function O(){m.value=window.innerWidth<=768}async function E(){try{const e=await fetch("http://localhost:3000/api/history"),n=await e.json();r.value=n}catch(e){console.error("履歴取得エラー:",e)}}function j(e){l.value=e.question,t.value=e.answer,n.value=""}function R(){l.value="",t.value="",n.value=""}(0,a.sV)(()=>{O(),window.addEventListener("resize",O),E()}),(0,a.xo)(()=>{window.removeEventListener("resize",O)});const x=(0,a.EW)(()=>{let e=[...r.value];return""!==y.value.trim()&&(e=e.filter(e=>e.question.toLowerCase().includes(y.value.toLowerCase()))),"recent"===w.value&&(e=e.slice(0,5)),e});async function K(){if(!n.value.trim())return alert("質問を入力してください。");try{const e=await fetch("http://localhost:3000/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:n.value})}),o=await e.json();t.value=o.content||"応答がありませんでした。",l.value=n.value,n.value="",E()}catch(e){alert("送信エラーが発生しました。"),console.error(e)}}async function S(e){if(t.value)try{await fetch("http://localhost:3000/api/feedback",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({question:l.value,answer:t.value,feedback:e})}),alert("フィードバックありがとうございます。")}catch(n){alert("フィードバック送信でエラーが発生しました。"),console.error(n)}}function T(){g.value=!g.value}return(e,r)=>((0,a.uX)(),(0,a.CE)("div",s,[(0,a.bo)((0,a.Lk)("button",{class:"toggle-btn mobile-toggle",onClick:r[0]||(r[0]=e=>g.value=!g.value),"aria-label":"메뉴 열기/닫기"}," ☰ ",512),[[o.aG,m.value]]),(0,a.Lk)("aside",{class:(0,u.C4)(["history-pane",{collapsed:g.value}])},[(0,a.bo)((0,a.Lk)("button",{class:"toggle-btn pc-toggle",onClick:T,"aria-label":"사이드바 접기/펼치기"},(0,u.v_)(g.value?"▶":"◀"),513),[[o.aG,!m.value]]),g.value?(0,a.Q3)("",!0):((0,a.uX)(),(0,a.CE)("div",c,[r[7]||(r[7]=(0,a.Lk)("h3",null,"質問履歴",-1)),(0,a.bo)((0,a.Lk)("input",{"onUpdate:modelValue":r[1]||(r[1]=e=>y.value=e),type:"text",placeholder:"質問を検索...",class:"search-input"},null,512),[[o.Jo,y.value]]),(0,a.Lk)("div",v,[(0,a.Lk)("button",{class:(0,u.C4)({active:"all"===w.value}),onClick:r[2]||(r[2]=e=>w.value="all")},"全て",2),(0,a.Lk)("button",{class:(0,u.C4)({active:"recent"===w.value}),onClick:r[3]||(r[3]=e=>w.value="recent")},"最近の5件",2)]),(0,a.Lk)("button",{class:"new-question-btn",onClick:R},"新しい質問"),(0,a.Lk)("ul",null,[((0,a.uX)(!0),(0,a.CE)(a.FK,null,(0,a.pI)(x.value,(e,n)=>((0,a.uX)(),(0,a.CE)("li",{key:n,onClick:n=>j(e),class:"history-item"},(0,u.v_)(e.question),9,f))),128)),0===x.value.length?((0,a.uX)(),(0,a.CE)("li",p,"該当する質問がありません。")):(0,a.Q3)("",!0)])]))],2),(0,a.Lk)("main",d,[r[12]||(r[12]=(0,a.Lk)("h2",null,"生成型AIモデル訓練中",-1)),r[13]||(r[13]=(0,a.Lk)("h5",null,"社内AIシステム「IT-IS」リリース予定",-1)),(0,a.bo)((0,a.Lk)("textarea",{"onUpdate:modelValue":r[4]||(r[4]=e=>n.value=e),rows:"4",placeholder:"質問を入力してください...",onKeyup:(0,o.jR)(K,["enter"])},null,544),[[o.Jo,n.value]]),(0,a.Lk)("button",{disabled:!n.value.trim(),onClick:K},"送信",8,h),t.value?((0,a.uX)(),(0,a.CE)("section",k,[(0,a.Lk)("p",b,[r[8]||(r[8]=(0,a.Lk)("strong",null,"質問：",-1)),r[9]||(r[9]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)((0,u.v_)(l.value),1)]),(0,a.Lk)("p",C,[r[10]||(r[10]=(0,a.Lk)("strong",null,"応答：",-1)),r[11]||(r[11]=(0,a.Lk)("br",null,null,-1)),(0,a.eW)((0,u.v_)(t.value),1)]),(0,a.Lk)("div",L,[(0,a.Lk)("button",{class:"btn-correct",onClick:r[5]||(r[5]=e=>S("正しい"))},"正しい"),(0,a.Lk)("button",{class:"btn-incorrect",onClick:r[6]||(r[6]=e=>S("違う"))},"違う")])])):(0,a.Q3)("",!0)]),r[14]||(r[14]=(0,a.Lk)("footer",{class:"footer"}," © 2025 DXPRO SOLUTIONS. All rights reserved. ",-1))]))}};const w=y;var g=w,m={name:"AppRoot",components:{ChatComponent:g}},O=t(1241);const E=(0,O.A)(m,[["render",r]]);var j=E;(0,o.Ef)(j).mount("#app")}},n={};function t(o){var a=n[o];if(void 0!==a)return a.exports;var l=n[o]={exports:{}};return e[o].call(l.exports,l,l.exports,t),l.exports}t.m=e,function(){var e=[];t.O=function(n,o,a,l){if(!o){var r=1/0;for(c=0;c<e.length;c++){o=e[c][0],a=e[c][1],l=e[c][2];for(var u=!0,i=0;i<o.length;i++)(!1&l||r>=l)&&Object.keys(t.O).every(function(e){return t.O[e](o[i])})?o.splice(i--,1):(u=!1,l<r&&(r=l));if(u){e.splice(c--,1);var s=a();void 0!==s&&(n=s)}}return n}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[o,a,l]}}(),function(){t.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return t.d(n,{a:n}),n}}(),function(){t.d=function(e,n){for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}}(),function(){var e={524:0};t.O.j=function(n){return 0===e[n]};var n=function(n,o){var a,l,r=o[0],u=o[1],i=o[2],s=0;if(r.some(function(n){return 0!==e[n]})){for(a in u)t.o(u,a)&&(t.m[a]=u[a]);if(i)var c=i(t)}for(n&&n(o);s<r.length;s++)l=r[s],t.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return t.O(c)},o=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];o.forEach(n.bind(null,0)),o.push=n.bind(null,o.push.bind(o))}();var o=t.O(void 0,[504],function(){return t(3721)});o=t.O(o)})();
//# sourceMappingURL=app.f301e26c.js.map